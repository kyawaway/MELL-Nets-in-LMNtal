box_cut_elimination_nested@@
{'!!'(X1,X2),$g1[X1|*X]},cut{cut_(X2),cut_(X3)},{$g2[X3|*X]}
  :- {{'!!'(X1,X2),$g1[X1|*X]},cut{cut_(X2),cut_(X3)},$g2[X3|*X]}.

{a(A1,S1),'!!'(A1,A2),g(G1,S2),g(G2,S3),g(G3,S4),s(S1,S2,S3,S4)},g(G1),g(G2),g(G3),cut{cut_(A2),cut_(G4)}.
{a(A3,S5),'!!'(A3,A4),g(G4,S6),g(G5,S7),g(G6,S8).s(S5,S6,S7,S8)},g(A4),g(G5),g(G6).

